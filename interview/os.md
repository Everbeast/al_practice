### 简述进程和线程区别

> 进程是资源分配的最小单位
> 线程是资源调度的的最小单位
>
> 一个进程可以包含多个线程（一辆火车可以有多个车厢）
> 线程在进程下行进（单纯的车厢无法运行）
>
> 进程有用自己的资源空间,同一进程的多个线程共享同一进程内的资源
> 同一进程下不同线程间数据很易共享（A车厢换到B车厢很容易）
>
> 不同进程间数据很难共享（一辆火车上的乘客很难换到另外一辆火车，比如站点换乘）
> (管道\套接字\信号交互\共享内存\消息队列等进行通信)
>
> 进程要比线程消耗更多的计算机资源（采用多列火车相比多个车厢更耗资源）
>
> 进程间不会相互影响，一个线程挂掉将导致整个进程挂掉（一列火车不会影响到另外一列火车，但是如果一列火车上中间的一节车厢着火了，将影响到所有车厢）
>
> 进程使用的内存地址可以上锁，即一个线程使用某些共享内存时，其他线程必须等它结束，才能使用这一块内存。（比如火车上的洗手间）－"互斥锁"
>
> 进程使用的内存地址可以限定使用量（比如火车上的餐厅，最多只允许多少人进入，如果满了需要在门口等，等有人出来了才能进去）－“信号量”

### 进程fork的时候，虚拟地址空间的五大分区哪些不需要写时复制过去？

> 在fork之后两个进程用的是相同的物理空间（内存区），子进程的代码段、数据段、堆栈都是指向父进程的物理空间，也就是说，两者的虚拟空间不同，但其对应的物理空间是同一个。即五大分区都需要写时复制
>
> 扩充:父子进程之间在刚fork后，刚刚创建子进程后:
> （1）父子相同处: 全局变量、.data、.bbs、.text、栈、堆、环境变量、用户ID、宿主目录（进程用户家目录）、进程工作目录、信号处理方式等等
> （2）父子不同处: 1.进程ID 2.fork返回值 3.父进程ID 4.进程运行时间 5.闹钟(定时器) 6.未决信号集
> 

